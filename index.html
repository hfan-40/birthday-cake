<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rose Gold & Ivory 3D</title>
    <style>
        /* 注入字体 */
        @import url('https://gs.jurieo.com/gemini/fonts-googleapis/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;1,400&display=swap');

        :root {
            --rose-pink: #F19EB5;
            --metallic-gold: #D4AF37;
            --ivory: #FFFFF0;
            --bg-dark: #050505;
        }

        body, html, #root {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--bg-dark);
            color: var(--ivory);
            font-family: 'Playfair Display', serif;
        }

        /* 原生 CSS 替代 Tailwind */
        .ui-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 3rem 1rem;
            z-index: 10;
            box-sizing: border-box;
        }

        .main-title {
            font-family: 'Cinzel', serif;
            font-size: clamp(2rem, 8vw, 4rem);
            letter-spacing: 0.2em;
            text-transform: uppercase;
            background: linear-gradient(to bottom, #f4e4bc 0%, var(--metallic-gold) 50%, #f4e4bc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 15px rgba(212, 175, 55, 0.4));
            margin: 0;
        }

        .footer-text {
            color: var(--rose-pink);
            font-style: italic;
            font-size: 1.1rem;
            letter-spacing: 0.1em;
            opacity: 0.8;
        }

        canvas { touch-action: none; }
    </style>

    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom": "https://esm.sh/react-dom@18.2.0",
        "three": "https://esm.sh/three@0.160.0",
        "@react-three/fiber": "https://esm.sh/@react-three/fiber@8.15.11",
        "@react-three/drei": "https://esm.sh/@react-three/drei@9.88.11"
      }
    }
    </script>
</head>
<body>
    <div id="root"></div>

    <div class="ui-container">
        <h1 class="main-title">Happy Birthday</h1>
        <div class="footer-text">Sophistication in Rose & Gold</div>
    </div>

    <script type="module">
        import React, { useRef } from 'react';
        import { createRoot } from 'react-dom';
        import * as THREE from 'three';
        import { Canvas, useFrame } from '@react-three/fiber';
        import { Float, OrbitControls, Stars, ContactShadows, Environment, MeshReflectorMaterial, Sparkles } from '@react-three/drei';

        const COLORS = {
            ivory: "#FFFFF0",
            rosePink: "#F19EB5",
            metallicGold: "#D4AF37"
        };

        const CakeModel = () => {
            const cakeGroup = useRef();

            // 缓动旋转动效
            useFrame((state) => {
                const t = state.clock.getElapsedTime();
                cakeGroup.current.rotation.y = Math.sin(t * 0.2) * 0.15;
            });

            return React.createElement('group', { ref: cakeGroup, position: [0, -0.8, 0] },
                // 1. 底层 (象牙白)
                React.createElement('mesh', { position: [0, 0, 0], castShadow: true },
                    React.createElement('cylinderGeometry', { args: [2.2, 2.2, 1.2, 64] }),
                    React.createElement('meshStandardMaterial', { color: COLORS.ivory, roughness: 0.2 })
                ),
                // 2. 中层 (玫瑰粉)
                React.createElement('mesh', { position: [0, 1.15, 0], castShadow: true },
                    React.createElement('cylinderGeometry', { args: [1.6, 1.6, 1.1, 64] }),
                    React.createElement('meshStandardMaterial', { color: COLORS.rosePink, roughness: 0.3 })
                ),
                // 3. 顶层 (象牙白)
                React.createElement('mesh', { position: [0, 2.2, 0], castShadow: true },
                    React.createElement('cylinderGeometry', { args: [1, 1, 1, 64] }),
                    React.createElement('meshStandardMaterial', { color: COLORS.ivory, roughness: 0.2 })
                ),

                // 金属装饰环
                [
                    [2.25, 0, 0.05], 
                    [1.65, 1.15, 0.04], 
                    [1.05, 2.2, 0.04]
                ].map(([r, y, t], i) => (
                    React.createElement('mesh', { key: i, position: [0, y, 0], rotation: [Math.PI/2, 0, 0] },
                        React.createElement('torusGeometry', { args: [r, t, 16, 100] }),
                        React.createElement('meshStandardMaterial', { color: COLORS.metallicGold, metalness: 1, roughness: 0.1 })
                    )
                )),

                // 蜡烛与星光
                React.createElement('group', { position: [0, 2.8, 0] },
                    React.createElement('mesh', null,
                        React.createElement('cylinderGeometry', { args: [0.04, 0.04, 0.6] }),
                        React.createElement('meshStandardMaterial', { color: COLORS.metallicGold, metalness: 0.9 })
                    ),
                    React.createElement(Sparkles, { count: 20, scale: 2, size: 4, speed: 0.4, color: COLORS.metallicGold }),
                    React.createElement('pointLight', { intensity: 2, distance: 4, color: "#ff9900" }),
                    React.createElement('mesh', { position: [0, 0.4, 0] },
                        React.createElement('sphereGeometry', { args: [0.06, 16, 16] }),
                        React.createElement('meshBasicMaterial', { color: "#ffcc00" })
                    )
                )
            );
        };

        const Scene = () => {
            return React.createElement(Canvas, { 
                shadows: true, 
                camera: { position: [0, 2, 10], fov: 35 },
                gl: { antialias: true }
            },
                React.createElement('color', { attach: "background", args: ["#050505"] }),
                React.createElement('ambientLight', { intensity: 0.5 }),
                React.createElement('spotLight', { position: [10, 10, 10], angle: 0.15, penumbra: 1, intensity: 2, castShadow: true }),
                
                React.createElement(CakeModel, null),
                
                // 动态背景粒子
                React.createElement(Stars, { radius: 50, count: 3000, factor: 4, fade: true }),

                // 环境映射让金色更亮
                React.createElement(Environment, { preset: "city" }),

                // 镜面反射地面
                React.createElement('mesh', { rotation: [-Math.PI / 2, 0, 0], position: [0, -2, 0] },
                    React.createElement('planeGeometry', { args: [50, 50] }),
                    React.createElement(MeshReflectorMaterial, {
                        blur: [400, 100],
                        resolution: 1024,
                        mixBlur: 1,
                        mixStrength: 15,
                        depthScale: 1,
                        minDepthThreshold: 0.85,
                        color: "#151515",
                        metalness: 0.5,
                        roughness: 1
                    })
                ),

                React.createElement(OrbitControls, { enableZoom: false, minPolarAngle: Math.PI / 4, maxPolarAngle: Math.PI / 2.1 })
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(React.createElement(Scene));
    </script>
</body>
</html>
